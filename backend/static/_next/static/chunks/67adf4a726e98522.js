(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18391,e=>{"use strict";let t=(0,e.i(12063).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],18391)},58628,e=>{"use strict";let t=(0,e.i(12063).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],58628)},56095,e=>{"use strict";var t=e.i(78722),s=e.i(89490),a=e.i(69244),r=e.i(83485),d=e.i(18391),l=e.i(58628),i=e.i(93889);function n(){let e=(0,a.useSearchParams)().get("id"),n=e?parseInt(e):0,[c,x]=(0,s.useState)(null),[m,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{n&&i.api.getReconciliation(n).then(e=>{let t=e.reduce((e,t)=>e+(t.ordered_quantity||0),0),s=e.reduce((e,t)=>e+(t.dispatched_quantity||0),0),a=e.reduce((e,t)=>e+(t.pending_quantity||0),0);x({po_number:n,fulfillment_rate:t>0?parseFloat((s/t*100).toFixed(1)):0,total_ordered:t,total_dispatched:s,total_pending:a,items:e}),o(!1)}).catch(e=>{console.error("Failed to load reconciliation:",e),o(!1)})},[n]),m)?(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("div",{className:"text-gray-500",children:"Loading..."})}):c?(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)(r.default,{href:`/po/${n}`,className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 mb-6",children:[(0,t.jsx)(d.ArrowLeft,{className:"w-4 h-4"}),"Back to PO Detail"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900",children:["PO #",n," Reconciliation"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ordered vs Dispatched Tracking"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-lg",children:[(0,t.jsx)(l.TrendingUp,{className:"w-5 h-5 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Fulfillment Rate"}),(0,t.jsxs)("div",{className:"text-2xl font-semibold text-blue-600",children:[c.fulfillment_rate,"%"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[c.total_dispatched," / ",c.total_ordered," units"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:`${c.fulfillment_rate}%`}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Total Ordered"}),(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900 mt-1",children:c.total_ordered})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Total Dispatched"}),(0,t.jsx)("div",{className:"text-2xl font-semibold text-green-600 mt-1",children:c.total_dispatched})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Pending"}),(0,t.jsx)("div",{className:"text-2xl font-semibold text-orange-600 mt-1",children:c.total_pending})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Item-wise Reconciliation"})}),(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ordered"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Dispatched"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pending"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Progress"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:c.items.map(e=>{let s=(e.ordered_quantity||0)>0?(e.dispatched_quantity||0)/(e.ordered_quantity||0)*100:0,a="not_started";return s>=100?a="complete":s>0&&(a="partial"),(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.po_item_no}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:[(0,t.jsx)("div",{className:"font-medium",children:e.material_code}),(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.material_description})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.ordered_quantity}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:e.dispatched_quantity}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-orange-600",children:e.pending_quantity}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded ${(e=>{switch(e){case"complete":return"text-green-600 bg-green-50";case"partial":return"text-orange-600 bg-orange-50";case"not_started":default:return"text-gray-600 bg-gray-50";case"over_dispatched":return"text-red-600 bg-red-50"}})(a)}`,children:(e=>{switch(e){case"complete":return"Complete";case"partial":return"Partial";case"not_started":return"Not Started";case"over_dispatched":return"Over Dispatched";default:return e}})(a)})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:`h-2 rounded-full ${s>=100?"bg-green-600":s>0?"bg-orange-600":"bg-gray-400"}`,style:{width:`${Math.min(s,100)}%`}})})})]},`${e.po_number}-${e.po_item_no}`)})})]})]})]}):(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)("div",{className:"text-center text-gray-500",children:"Reconciliation data not found"})})}function c(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("div",{className:"text-gray-500",children:"Loading..."})}),children:(0,t.jsx)(n,{})})}e.s(["default",()=>c])}]);