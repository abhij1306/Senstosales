(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18391,e=>{"use strict";let t=(0,e.i(12063).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],18391)},35051,e=>{"use strict";var t=e.i(78722),s=e.i(89490),r=e.i(69244),a=e.i(18391),x=e.i(10496),d=e.i(46362),i=e.i(93889);function l(){let e=(0,r.useSearchParams)().get("id"),[l,c]=(0,s.useState)(null),[n,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{h()},[e]);let h=async()=>{try{let t=await fetch(`${i.API_BASE_URL}/api/srv/${e}`),s=await t.json();c(s)}catch(e){console.error("Error loading SRV detail:",e)}finally{m(!1)}};if(n)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Loading SRV details..."})});if(!l)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"SRV not found"})});let o=l.items.reduce((e,t)=>e+t.received_qty,0),p=l.items.reduce((e,t)=>e+t.rejected_qty,0),u=o+p>0?(p/(o+p)*100).toFixed(2):"0.00";return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("a",{href:"/srv",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:(0,t.jsx)(a.ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["SRV ",l.header.srv_number]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Created on ",l.header.created_at?new Date(l.header.created_at).toLocaleDateString():l.header.srv_date]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(x.FileText,{className:"w-6 h-6 text-blue-600"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"SRV Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"SRV Number"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:l.header.srv_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"SRV Date"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:l.header.srv_date})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"PO Number"}),(0,t.jsx)("a",{href:`/po/view?id=${l.header.po_number}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:l.header.po_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Status"}),(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:l.header.srv_status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Total Received"}),(0,t.jsx)("p",{className:"text-sm font-medium text-green-600",children:o.toFixed(2)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Total Rejected"}),(0,t.jsxs)("p",{className:"text-sm font-medium text-red-600",children:[p.toFixed(2)," (",u,"%)"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-3",children:[(0,t.jsx)(d.Package,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"SRV Items"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"PO Item No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Lot No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Received Qty"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Rejected Qty"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Challan No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Invoice No"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remarks"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:l.items.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.po_item_no}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.lot_no||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:e.received_qty.toFixed(2)}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right text-sm font-medium text-red-600",children:[e.rejected_qty.toFixed(2),e.rejected_qty>0&&(0,t.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs bg-red-100 text-red-800",children:[(e.rejected_qty/(e.received_qty+e.rejected_qty)*100).toFixed(1),"%"]})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.challan_no||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.invoice_no||"-"}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.remarks||"-"})]},e.id))})]})})]})]})})}function c(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Loading SRV details..."})}),children:(0,t.jsx)(l,{})})}e.s(["default",()=>c])}]);